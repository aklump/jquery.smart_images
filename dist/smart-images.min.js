/**
 * Smart Images jQuery JavaScript Plugin v0.2.2
 *
 * Window width-based image loading for responsive applications.
 *
 * Copyright 2017-2018, Aaron Klump <sourcecode@intheloftstudios.com>
 * @license Dual licensed under the MIT or GPL Version 3 licenses.
 * http://www.intheloftstudios.com/packages/js/jquery.smart_images
 *
 * Date: Tue Dec  4 17:03:23 PST 2018
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery","@aklump/breakpointx"],t):"object"==typeof module&&module.exports?module.exports=function(e,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i,require("@aklump/breakpointx")),i}:t(jQuery,BreakpointX)}(function(t,e){function i(e,i){this.settings=t.extend({},t.fn.smartImages.defaults,i),this.$el=t(e),this.$img=this.$el.find(this.settings.imgSelector),this.init()}function a(t,e){var i=[];return e?(i.push("max-width:"+(t-1)+"px"),i.push("(min-width:"+(t+1)+"px) and (max-width:"+e+"px)")):i.push("min-width:"+t+"px"),i}i.prototype.init=function(){this.srcMap={},this.loaded={},this.largestLoaded=null;var i=this.$el,a=this,n=a.settings,s=n.dataPrefix,r=[],h=[],d=[0],o=n.srcSelector||"[data-"+n.dataPrefix+n.dataMediaSuffix+"]";i.find(o).hide().each(function(){var e=t(this).attr("data-"+s+n.dataMediaSuffix),i=t(this).attr("data-"+s+n.dataSrcSuffix),o=e.match(/((min|max)\-width:\s*(\d+)\s*px)/g);for(var l in o){var f=o[l],u=f.match(/(.+)-width:\s*(\d+)\s*px/);if(a.srcMap[e.replace(/: /g,":")]=i,3!==u.length)throw"Bad value: '"+e+"' in media.";var m=1*u[2],c=o.length>1;c?m+="min"===u[1]?-1:1:m++,c||"max"===u[1]?(r.push([i,m]),d.push(m)):"min"===u[1]&&h.push([i,m])}});var l=function(t,e){return t[1]*=1,e[1]*=1,t[1]===e[1]?1:t[1]<e[1]?-1:1};if(1!==h.length)throw"You MUST declare only 1 min-width.";if(r.sort(l),h[0][1]-1!==r[r.length-1][1])throw"The min-width MUST be 1px > than highest max-width.";this.bp=new e(d,{resizeThrottle:n.resizeThrottle}),this.bp.add("bigger",this.bp.aliases,function(t,e){var i="never"===n.downsize&&(a.largestLoaded===!0||e.maxWidth&&a.largestLoaded>e.maxWidth);i||a.changeHandler(e)}).add("smaller",this.bp.aliases,function(t,e){("always"===n.downsize||"loaded"===n.downsize&&a.loaded[e.name])&&a.changeHandler(e)}),this.settings.onInit&&this.settings.onInit.call(this),this.firstRun=!0;var f=this.bp.value(this.bp.current);this.changeHandler({name:this.bp.current,minWidth:f[0],maxWidth:f[1]}),this.firstRun=!1},i.prototype.changeHandler=function(t){var e=a(t.minWidth,t.maxWidth),i=null;for(var n in e)if(this.srcMap[e[n]]){i=e[n];break}var s=this.srcMap[i]||"",r=this.settings.onBeforeChange&&this.settings.onBeforeChange.call(this,i,s)===!1;if(!r){this.largestLoaded=t.maxWidth||!0,this.loaded[i]=!0,this.$img.attr("src",s);var h=this.settings.dataPrefix+"has-not-src";s?this.$img.removeClass(h):this.$img.addClass(h),this.settings.onAfterChange&&this.settings.onAfterChange.call(this,i,s)}},i.prototype.destroy=function(){t(this.$el).removeData("smartImages")},t.fn.smartImages=function(e,a){return this.each(function(){var n=t.data(this,"smartImages");n&&"string"==typeof e&&"function"==typeof n[e]?n[e](a):t.data(this,"smartImages",new i(this,e))})},t.fn.smartImages.defaults={dataPrefix:"si-",dataSrcSuffix:"srcset",dataMediaSuffix:"media",imgSelector:"img",srcSelector:null,resizeThrottle:300,downsize:"never",onInit:null,onBeforeChange:null,onAfterChange:null},t.fn.smartImages.version=function(){return"0.2.2"}});