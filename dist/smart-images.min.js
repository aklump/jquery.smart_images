/**
 * Smart Images jQuery JavaScript Plugin v0.2.2
 *
 * Window width-based image loading for responsive applications.
 *
 * Copyright 2017-2018, Aaron Klump <sourcecode@intheloftstudios.com>
 * @license Dual licensed under the MIT or GPL Version 3 licenses.
 * http://www.intheloftstudios.com/packages/js/jquery.smart_images
 *
 * Date: Mon Dec  3 19:11:33 PST 2018
 */
!function(i){"function"==typeof define&&define.amd?define(["jquery","@aklump/breakpointx"],i):"object"==typeof module&&module.exports?module.exports=function(t,e){return void 0===e&&(e="undefined"!=typeof window?require("jquery"):require("jquery")(t)),i(e,require("@aklump/breakpointx")),e}:i(jQuery,BreakpointX)}(function(m,a){function s(t,e){this.settings=m.extend({},m.fn.smartImages.defaults,e),this.$el=m(t),this.$img=this.$el.find(this.settings.imgSelector),this.init()}s.prototype.init=function(){this.srcMap={},this.loaded={},this.largestLoaded=null;var t=this.$el,h=this,d=h.settings,o=d.dataPrefix,l=[],f=[],u=[0],e=d.srcSelector||"[data-"+d.dataPrefix+d.dataMediaSuffix+"]";t.find(e).hide().each(function(){var t=m(this).attr("data-"+o+d.dataMediaSuffix),e=m(this).attr("data-"+o+d.dataSrcSuffix),i=t.match(/((min|max)\-width:\s*(\d+)\s*px)/g);for(var a in i){var s=i[a].match(/(.+)-width:\s*(\d+)\s*px/);if(h.srcMap[t.replace(/: /g,":")]=e,3!==s.length)throw"Bad value: '"+t+"' in media.";var n=1*s[2],r=1<i.length;r?n+="min"===s[1]?-1:1:n++,r||"max"===s[1]?(l.push([e,n]),u.push(n)):"min"===s[1]&&f.push([e,n])}});if(1!==f.length)throw"You MUST declare only 1 min-width.";if(l.sort(function(t,e){return t[1]*=1,e[1]*=1,t[1]===e[1]?1:t[1]<e[1]?-1:1}),f[0][1]-1!==l[l.length-1][1])throw"The min-width MUST be 1px > than highest max-width.";this.bp=new a(u,{resizeThrottle:d.resizeThrottle}),this.bp.add("bigger",this.bp.aliases,function(t,e){"never"===d.downsize&&(!0===h.largestLoaded||e.maxWidth&&h.largestLoaded>e.maxWidth)||h.changeHandler(e)}).add("smaller",this.bp.aliases,function(t,e){("always"===d.downsize||"loaded"===d.downsize&&h.loaded[e.name])&&h.changeHandler(e)}),this.settings.onInit&&this.settings.onInit.call(this),this.firstRun=!0;var i=this.bp.value(this.bp.current);this.changeHandler({name:this.bp.current,minWidth:i[0],maxWidth:i[1]}),this.firstRun=!1},s.prototype.changeHandler=function(t){var e,i,a,s=(e=t.minWidth,i=t.maxWidth,a=[],i?(a.push("max-width:"+(e-1)+"px"),a.push("(min-width:"+(e+1)+"px) and (max-width:"+i+"px)")):a.push("min-width:"+e+"px"),a),n=null;for(var r in s)if(this.srcMap[s[r]]){n=s[r];break}var h=this.srcMap[n]||"";if(!(this.settings.onBeforeChange&&!1===this.settings.onBeforeChange.call(this,n,h))){this.largestLoaded=t.maxWidth||!0,this.loaded[n]=!0,this.$img.attr("src",h);var d=this.settings.dataPrefix+"has-not-src";h?this.$img.removeClass(d):this.$img.addClass(d),this.settings.onAfterChange&&this.settings.onAfterChange.call(this,n,h)}},s.prototype.destroy=function(){m(this.$el).removeData("smartImages")},m.fn.smartImages=function(e,i){return this.each(function(){var t=m.data(this,"smartImages");t&&"string"==typeof e&&"function"==typeof t[e]?t[e](i):m.data(this,"smartImages",new s(this,e))})},m.fn.smartImages.defaults={dataPrefix:"si-",dataSrcSuffix:"srcset",dataMediaSuffix:"media",imgSelector:"img",srcSelector:null,resizeThrottle:300,downsize:"never",onInit:null,onBeforeChange:null,onAfterChange:null},m.fn.smartImages.version=function(){return"0.2.2"}});