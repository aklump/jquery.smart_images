/**
 * Smart Images jQuery JavaScript Plugin v0.1.4
 * http://www.intheloftstudios.com/packages/js/smart_images
 *
 * Window width-based image loading for responsive applications.
 *
 * Copyright 2017, Aaron Klump <sourcecode@intheloftstudios.com>
 * @license Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Date: Wed Mar 29 21:24:57 PDT 2017
 *
 * @link http://www.intheloftstudios.com/packages/js/breakpointX
 */
!function($){"use strict";function t(t,e){this.settings=$.extend({},$.fn.smartImages.defaults,e),this.$el=$(t),this.$img=this.$el.find(this.settings.imgSelector),this.init()}t.prototype.init=function(){this.srcMap={},this.loaded={},this.largestLoaded=null;var t=this.$el,e=this,i=e.settings,a=i.dataPrefix,s=[],n=[],r=[0];t.find("[data-"+i.dataPrefix+i.dataMediaSuffix+"]").each(function(){var t=$(this).attr("data-"+a+i.dataMediaSuffix),h=$(this).attr("data-"+a+i.dataSrcSuffix),d=t.match(/\((.+)-width:\s*(\d+)px\)/);if(e.srcMap[t]=h,3!==d.length)throw"Bad value: '"+t+"' in media.";var o=1*d[2]+1;"min"===d[1]?n.push([h,o]):"max"===d[1]&&(s.push([h,o]),r.push(o))});var h=function(t,e){return t[1]*=1,e[1]*=1,t[1]===e[1]?1:t[1]<e[1]?-1:1};if(1!==n.length)throw"You MUST declare only one min-width.";if(s.sort(h),n[0][1]-1!==s[s.length-1][1])throw"The min-width MUST be one pixel > than highest max-width.";this.bp=new BreakpointX(r,{resizeThrottle:i.resizeThrottle}),this.bp.add("bigger",this.bp.aliases,function(t,a){"never"===i.downsize&&(e.largestLoaded===!0||a.maxWidth&&e.largestLoaded>a.maxWidth)||e.changeHandler(a)}).add("smaller",this.bp.aliases,function(t,a){("always"===i.downsize||"loaded"===i.downsize&&e.loaded[a.name])&&e.changeHandler(a)}),this.settings.onInit&&this.settings.onInit.call(this),this.firstRun=!0;var d=this.bp.value(this.bp.current);this.changeHandler({name:this.bp.current,minWidth:d[0],maxWidth:d[1]}),this.firstRun=!1},t.prototype.changeHandler=function(t){var e=this.srcMap[t.name];this.settings.onBeforeChange&&this.settings.onBeforeChange.call(this,t.name,e)===!1||(this.largestLoaded=t.maxWidth||!0,this.loaded[t.name]=!0,this.$img.attr("src",e),this.settings.onAfterChange&&this.settings.onAfterChange.call(this,t.name,e))},t.prototype.destroy=function(){$(this.$el).removeData("smartImages")},$.fn.smartImages=function(e,i){return this.each(function(){var a=$.data(this,"smartImages");a&&"string"==typeof e&&"function"==typeof a[e]?a[e](i):$.data(this,"smartImages",new t(this,e))})},$.fn.smartImages.defaults={dataPrefix:"si-",dataSrcSuffix:"srcset",dataMediaSuffix:"media",imgSelector:"img",resizeThrottle:300,downsize:"never",onInit:null,onBeforeChange:null,onAfterChange:null},$.fn.smartImages.version=function(){return"0.1.4"}}(jQuery);