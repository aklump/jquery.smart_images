/**
 * Smart Images jQuery JavaScript Plugin v0.1.7
 * http://www.intheloftstudios.com/packages/js/smart_images
 *
 * Window width-based image loading for responsive applications.
 *
 * Copyright 2017, Aaron Klump <sourcecode@intheloftstudios.com>
 * @license Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Date: Thu May 18 11:24:02 PDT 2017
 */
!function(l){"use strict";function a(t,e){this.settings=l.extend({},l.fn.smartImages.defaults,e),this.$el=l(t),this.$img=this.$el.find(this.settings.imgSelector),this.init()}a.prototype.init=function(){this.srcMap={},this.loaded={},this.largestLoaded=null;var t=this.$el,s=this,n=s.settings,r=n.dataPrefix,h=[],d=[],o=[0],e=n.srcSelector||"[data-"+n.dataPrefix+n.dataMediaSuffix+"]";t.find(e).hide().each(function(){var t=l(this).attr("data-"+r+n.dataMediaSuffix),e=l(this).attr("data-"+r+n.dataSrcSuffix),i=t.match(/(.+)-width:\s*(\d+)px/);if(s.srcMap[t]=e,3!==i.length)throw"Bad value: '"+t+"' in media.";var a=1*i[2]+1;"min"===i[1]?d.push([e,a]):"max"===i[1]&&(h.push([e,a]),o.push(a))});if(1!==d.length)throw"You MUST declare only one min-width.";if(h.sort(function(t,e){return t[1]*=1,e[1]*=1,t[1]===e[1]?1:t[1]<e[1]?-1:1}),d[0][1]-1!==h[h.length-1][1])throw"The min-width MUST be one pixel > than highest max-width.";this.bp=new BreakpointX(o,{resizeThrottle:n.resizeThrottle}),this.bp.add("bigger",this.bp.aliases,function(t,e){"never"===n.downsize&&(!0===s.largestLoaded||e.maxWidth&&s.largestLoaded>e.maxWidth)||s.changeHandler(e)}).add("smaller",this.bp.aliases,function(t,e){("always"===n.downsize||"loaded"===n.downsize&&s.loaded[e.name])&&s.changeHandler(e)}),this.settings.onInit&&this.settings.onInit.call(this),this.firstRun=!0;var i=this.bp.value(this.bp.current);this.changeHandler({name:this.bp.current,minWidth:i[0],maxWidth:i[1]}),this.firstRun=!1},a.prototype.changeHandler=function(t){var e=this.srcMap[t.name];this.settings.onBeforeChange&&!1===this.settings.onBeforeChange.call(this,t.name,e)||(this.largestLoaded=t.maxWidth||!0,this.loaded[t.name]=!0,this.$img.attr("src",e),this.settings.onAfterChange&&this.settings.onAfterChange.call(this,t.name,e))},a.prototype.destroy=function(){l(this.$el).removeData("smartImages")},l.fn.smartImages=function(e,i){return this.each(function(){var t=l.data(this,"smartImages");t&&"string"==typeof e&&"function"==typeof t[e]?t[e](i):l.data(this,"smartImages",new a(this,e))})},l.fn.smartImages.defaults={dataPrefix:"si-",dataSrcSuffix:"srcset",dataMediaSuffix:"media",imgSelector:"img",srcSelector:null,resizeThrottle:300,downsize:"never",onInit:null,onBeforeChange:null,onAfterChange:null},l.fn.smartImages.version=function(){return"0.1.7"}}(jQuery);