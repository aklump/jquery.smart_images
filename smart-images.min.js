/**
 * @aklump/smart-images jQuery JavaScript Plugin v0.2.0
 * http://www.intheloftstudios.com/packages/js/jquery.smart_images
 *
 * Window width-based image loading for responsive applications.
 *
 * Copyright 2017-2018, Aaron Klump <sourcecode@intheloftstudios.com>
 * @license Dual licensed under the MIT or GPL Version 3 licenses.
 *
 * Date: Thu Nov 29 10:31:44 PST 2018
 */
!function(g){"use strict";function a(t,i){this.settings=g.extend({},g.fn.smartImages.defaults,i),this.$el=g(t),this.$img=this.$el.find(this.settings.imgSelector),this.init()}a.prototype.init=function(){this.srcMap={},this.loaded={},this.largestLoaded=null;var t=this.$el,r=this,d=r.settings,o=d.dataPrefix,l=[],f=[],m=[0],i=d.srcSelector||"[data-"+d.dataPrefix+d.dataMediaSuffix+"]";t.find(i).hide().each(function(){var t=g(this).attr("data-"+o+d.dataMediaSuffix),i=g(this).attr("data-"+o+d.dataSrcSuffix),e=t.match(/((min|max)\-width:\s*(\d+)\s*px)/g);for(var a in e){var s=e[a].match(/(.+)-width:\s*(\d+)\s*px/);if(r.srcMap[t.replace(/: /g,":")]=i,3!==s.length)throw"Bad value: '"+t+"' in media.";var n=1*s[2],h=1<e.length;h?n+="min"===s[1]?-1:1:n++,h||"max"===s[1]?(l.push([i,n]),m.push(n)):"min"===s[1]&&f.push([i,n])}});if(1!==f.length)throw"You MUST declare only 1 min-width.";if(l.sort(function(t,i){return t[1]*=1,i[1]*=1,t[1]===i[1]?1:t[1]<i[1]?-1:1}),f[0][1]-1!==l[l.length-1][1])throw"The min-width MUST be 1px > than highest max-width.";this.bp=new BreakpointX(m,{resizeThrottle:d.resizeThrottle}),this.bp.add("bigger",this.bp.aliases,function(t,i){"never"===d.downsize&&(!0===r.largestLoaded||i.maxWidth&&r.largestLoaded>i.maxWidth)||r.changeHandler(i)}).add("smaller",this.bp.aliases,function(t,i){("always"===d.downsize||"loaded"===d.downsize&&r.loaded[i.name])&&r.changeHandler(i)}),this.settings.onInit&&this.settings.onInit.call(this),this.firstRun=!0;var e=this.bp.value(this.bp.current);this.changeHandler({name:this.bp.current,minWidth:e[0],maxWidth:e[1]}),this.firstRun=!1},a.prototype.changeHandler=function(t){var i,e,a,s=(i=t.minWidth,e=t.maxWidth,a=[],e?(a.push("max-width:"+(i-1)+"px"),a.push("(min-width:"+(i+1)+"px) and (max-width:"+e+"px)")):a.push("min-width:"+i+"px"),a),n=null;for(var h in s)if(this.srcMap[s[h]]){n=s[h];break}var r=this.srcMap[n]||"";this.settings.onBeforeChange&&!1===this.settings.onBeforeChange.call(this,n,r)||(this.largestLoaded=t.maxWidth||!0,this.loaded[n]=!0,this.$img.attr("src",r),this.settings.onAfterChange&&this.settings.onAfterChange.call(this,n,r))},a.prototype.destroy=function(){g(this.$el).removeData("smartImages")},g.fn.smartImages=function(i,e){return this.each(function(){var t=g.data(this,"smartImages");t&&"string"==typeof i&&"function"==typeof t[i]?t[i](e):g.data(this,"smartImages",new a(this,i))})},g.fn.smartImages.defaults={dataPrefix:"si-",dataSrcSuffix:"srcset",dataMediaSuffix:"media",imgSelector:"img",srcSelector:null,resizeThrottle:300,downsize:"never",onInit:null,onBeforeChange:null,onAfterChange:null},g.fn.smartImages.version=function(){return"0.2.0"}}(jQuery);